<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />


    <ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://java.sun.com/jsf/facelets">
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <div class="container">
            <!-- Example row of columns -->



            <h:form id="frm_changepassword"      prependId="false" >
                <div class="row">

                    <div class="col-md-3">

                    </div>
                    <div class="col-md-6">
                        <div class="form-group">

                            <p:panel id="panel" header="เปลี่ยนรหัสผ่าน">

                                <p:messages id="msgs" />

                                <h:panelGrid columns="4" cellpadding="5" cellspacing="5">
                                    <p:outputLabel for="email" value="E-mail:" />
                                    <p:inputText id="email" value="#{user.userName}"  readonly="true"  required="true" label=""  size="30"   >
                                        <f:validateLength minimum="2" />
                                    </p:inputText>
                                    <p:message for="email" display="icon" />
                                 <p:separator style="visibility: hidden"/>

                                    <p:outputLabel for="oldpassword" value="รหัสผ่านเดิม:" />
                                   
                                    <p:password id="oldpassword" value="#{user.oldPassword}" label="" required="true"   size="30" 
                                                 requiredMessage="ต้องบันทึกรหัสผ่านเดิม"          validatorMessage="ความยาวตัวอักษรอย่างน้อย 5 ตัวอักษร">
                                        <f:validateLength minimum="5" />
                                        
                                    </p:password>
                                    <p:message for="oldpassword" display="icon" />
                                    <p:separator style="visibility: hidden"/>

                                    <p:outputLabel for="newpassword1" value="รหัสผ่านใหม่ครั้งที่ 1:" />
                                    <p:password id="newpassword1" value="#{user.newPassword1}" label="" required="true"    size="30" 
                                          requiredMessage="ต้องบันทึกรหัสผ่านใหม่ครั้งที่ 1"       validatorMessage="ความยาวตัวอักษรอย่างน้อย 5 ตัวอักษร">
                                        <f:validateLength minimum="5" />
                                     
                                    </p:password>
                                    <p:message for="newpassword1"  display="icon" />
                                    <p:separator style="visibility: hidden"/>

                                    <p:outputLabel for="newpassword2" value="รหัสผ่านใหม่ครั้งที่ 2:" />
                                    <p:password id="newpassword2" value="#{user.newPassword2}" label="" required="true"    size="30" 
                                            requiredMessage="ต้องบันทึกรหัสผ่านใหม่ครั้งที่ 2"     validatorMessage="ความยาวตัวอักษรอย่างน้อย 5 ตัวอักษร">
                                        <f:validateLength minimum="5" />
                                      
                                    </p:password>
                                    <p:message for="newpassword2" display="icon" />
                                   <p:separator style="visibility: hidden"/>                     


                                </h:panelGrid>


                            </p:panel>
                            <br/>


                            <h:commandButton        action="#{user.changePassword()}"      title=""   value="บันทึก"    styleClass="btn btn-primary    "   rendered="#{!user.showLogin}" >  

                            </h:commandButton>

                            <img width="20" height="10" src="resources/images/dot_clear.gif" />

                            <h:commandButton   immediate="true"     disabled="false"    rendered="true"   action="#{user.open_page()}"   value="รายการหลัก"    styleClass="btn btn-primary    ">  
                                <f:param name="page" value="index.xhtml" />
                            </h:commandButton>
                        </div>               
                    </div>
                    <div class="col-md-3">

                    </div>




                </div>
                <!-- Example row of columns -->

            </h:form>
        </div>
        <hr/>

    </ui:composition>

</html>